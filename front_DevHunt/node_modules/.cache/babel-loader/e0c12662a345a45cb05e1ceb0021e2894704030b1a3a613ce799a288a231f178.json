{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { backServer } from \"@/config/axiosConfig\";\nexport default {\n  data() {\n    return {\n      user: {},\n      isValid: {\n        email: false,\n        password: false\n      },\n      isDisable: true\n    };\n  },\n  created() {\n    this.user.email = this.$route.query.email, this.emailHandler();\n  },\n  methods: {\n    login() {\n      backServer.post(\"/api/user/login\", this.user).then(res => {\n        if (res.data.message === \"connected\") {\n          localStorage.setItem(\"token\", res.data.access_token);\n          localStorage.setItem(\"id\", res.data.user_ID);\n          localStorage.setItem(\"username\", res.data.username);\n          this.$router.push(`/Chat`);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    inputHandler(e) {\n      console.log('exec');\n      switch (e.target.id) {\n        case \"email\":\n          /^[a-z0-9._-]+@[a-z0-9._-]+\\.[a-z]{2,6}$/.test(e.target.value) ? this.isValid[\"email\"] = true : this.isValid[\"email\"] = false;\n          break;\n        case \"password\":\n          e.target.value.length >= 6 ? this.isValid[\"password\"] = true : this.isValid[\"password\"] = false;\n          break;\n      }\n      if (this.isValid[\"email\"] && this.isValid[\"password\"]) {\n        this.isDisable = false;\n      } else {\n        this.isDisable = true;\n      }\n    },\n    emailHandler() {\n      /^[a-z0-9._-]+@[a-z0-9._-]+\\.[a-z]{2,6}$/.test(this.user.email) ? this.isValid[\"email\"] = true : this.isValid[\"email\"] = false;\n    }\n  }\n};","map":{"version":3,"names":["backServer","data","user","isValid","email","password","isDisable","created","$route","query","emailHandler","methods","login","post","then","res","message","localStorage","setItem","access_token","user_ID","username","$router","push","catch","err","console","log","inputHandler","e","target","id","test","value","length"],"sources":["src/components/SignIn.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-2\">\r\n    </div>\r\n    <div class=\"col-lg-8\">\r\n      <div class=\"px-lg-5 px-4\">\r\n        <h2 class=\"mb-4 font-weight-medium\">LogIn</h2>\r\n        <div class=\"content\">\r\n          <form class=\"sign-up\" @submit.prevent=\"login\">\r\n            <div class=\"form-floating mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                :class=\"isValid['email'] ? 'is-valid' : 'not-valid'\"\r\n                id=\"email\"\r\n                required\r\n                placeholder=\"\"\r\n                autocomplete=\"off\"\r\n                v-model=\"user['email']\"\r\n                @input=\"inputHandler\"\r\n                @keyup=\"inputHandler\"\r\n              />\r\n              <label for=\"email\">Email</label>\r\n            </div>\r\n            <div class=\"form-floating mb-3\">\r\n              <input type=\"password\" class=\"form-control\" :class=\"isValid['password'] ? 'is-valid' : 'not-valid'\"\r\n                id=\"password\"\r\n                required\r\n                placeholder=\"\"\r\n                autocomplete=\"off\"\r\n                v-model=\"user['password']\"\r\n                @input=\"inputHandler\"\r\n                @keyup=\"inputHandler\"\r\n              />\r\n              <label for=\"password\">Mot de passe </label>\r\n            </div>\r\n            <div class=\"d-flex align-items-center justify-content-end\">\r\n              <router-link to=\"/Sign/In\"><span class=\"mx-2 mx-sm-3 has-acc\">S'inscrire ?</span></router-link>\r\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isDisable\">\r\n                Connexion\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { backServer } from \"@/config/axiosConfig\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {},\r\n      isValid: { email: false, password: false },\r\n      isDisable: true,\r\n    };\r\n  },\r\n  created() {\r\n    (this.user.email = this.$route.query.email), this.emailHandler();\r\n  },\r\n  methods: {\r\n    login() {\r\n      backServer.post(\"/api/user/login\", this.user)\r\n        .then((res) => {\r\n          if (res.data.message === \"connected\") {\r\n            localStorage.setItem(\"token\", res.data.access_token);\r\n            localStorage.setItem(\"id\", res.data.user_ID);\r\n            localStorage.setItem(\"username\", res.data.username);\r\n            this.$router.push(`/Chat`);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    inputHandler(e) {\r\n      console.log('exec')\r\n      switch (e.target.id) {\r\n        case \"email\":\r\n          /^[a-z0-9._-]+@[a-z0-9._-]+\\.[a-z]{2,6}$/.test(e.target.value)\r\n            ? (this.isValid[\"email\"] = true)\r\n            : (this.isValid[\"email\"] = false);\r\n          break;\r\n        case \"password\":\r\n          e.target.value.length >= 6\r\n            ? (this.isValid[\"password\"] = true)\r\n            : (this.isValid[\"password\"] = false);\r\n          break;\r\n      }\r\n\r\n      if (this.isValid[\"email\"] && this.isValid[\"password\"]) {\r\n        this.isDisable = false;\r\n      } else {\r\n        this.isDisable = true;\r\n      }\r\n    },\r\n    emailHandler() {\r\n      /^[a-z0-9._-]+@[a-z0-9._-]+\\.[a-z]{2,6}$/.test(this.user.email)\r\n        ? (this.isValid[\"email\"] = true)\r\n        : (this.isValid[\"email\"] = false);\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":";AAiDA,SAAAA,UAAA;AAEA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,OAAA;QAAAC,KAAA;QAAAC,QAAA;MAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAL,IAAA,CAAAE,KAAA,QAAAI,MAAA,CAAAC,KAAA,CAAAL,KAAA,OAAAM,YAAA;EACA;EACAC,OAAA;IACAC,MAAA;MACAZ,UAAA,CAAAa,IAAA,yBAAAX,IAAA,EACAY,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAd,IAAA,CAAAe,OAAA;UACAC,YAAA,CAAAC,OAAA,UAAAH,GAAA,CAAAd,IAAA,CAAAkB,YAAA;UACAF,YAAA,CAAAC,OAAA,OAAAH,GAAA,CAAAd,IAAA,CAAAmB,OAAA;UACAH,YAAA,CAAAC,OAAA,aAAAH,GAAA,CAAAd,IAAA,CAAAoB,QAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA,GACAC,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IACAG,aAAAC,CAAA;MACAH,OAAA,CAAAC,GAAA;MACA,QAAAE,CAAA,CAAAC,MAAA,CAAAC,EAAA;QACA;UACA,0CAAAC,IAAA,CAAAH,CAAA,CAAAC,MAAA,CAAAG,KAAA,IACA,KAAA9B,OAAA,mBACA,KAAAA,OAAA;UACA;QACA;UACA0B,CAAA,CAAAC,MAAA,CAAAG,KAAA,CAAAC,MAAA,QACA,KAAA/B,OAAA,sBACA,KAAAA,OAAA;UACA;MACA;MAEA,SAAAA,OAAA,kBAAAA,OAAA;QACA,KAAAG,SAAA;MACA;QACA,KAAAA,SAAA;MACA;IACA;IACAI,aAAA;MACA,0CAAAsB,IAAA,MAAA9B,IAAA,CAAAE,KAAA,IACA,KAAAD,OAAA,mBACA,KAAAA,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}