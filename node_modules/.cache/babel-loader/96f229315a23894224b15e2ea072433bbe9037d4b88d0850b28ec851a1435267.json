{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global['vue-chat-scroll'] = factory());\n})(this, function () {\n  'use strict';\n\n  /**\r\n  * @name VueJS vChatScroll (vue-chat-scroll)\r\n  * @description Monitors an element and scrolls to the bottom if a new child is added\r\n  * @author Theodore Messinezis <theo@theomessin.com>\r\n  * @file v-chat-scroll  directive definition\r\n  */\n  var scrollToBottom = function scrollToBottom(el, smooth) {\n    if (typeof el.scroll === \"function\") {\n      el.scroll({\n        top: el.scrollHeight,\n        behavior: smooth ? 'smooth' : 'instant'\n      });\n    } else {\n      el.scrollTop = el.scrollHeight;\n    }\n  };\n  var vChatScroll = {\n    bind: function bind(el, binding) {\n      var scrolled = false;\n      el.addEventListener('scroll', function (e) {\n        scrolled = el.scrollTop + el.clientHeight + 1 < el.scrollHeight;\n        if (scrolled && el.scrollTop === 0) {\n          el.dispatchEvent(new Event(\"v-chat-scroll-top-reached\"));\n        }\n      });\n      new MutationObserver(function (e) {\n        var config = binding.value || {};\n        if (config.enabled === false) return;\n        var pause = config.always === false && scrolled;\n        var addedNodes = e[e.length - 1].addedNodes.length;\n        var removedNodes = e[e.length - 1].removedNodes.length;\n        if (config.scrollonremoved) {\n          if (pause || addedNodes != 1 && removedNodes != 1) return;\n        } else {\n          if (pause || addedNodes != 1) return;\n        }\n        var smooth = config.smooth;\n        var loadingRemoved = !addedNodes && removedNodes === 1;\n        if (loadingRemoved && config.scrollonremoved && 'smoothonremoved' in config) {\n          smooth = config.smoothonremoved;\n        }\n        scrollToBottom(el, smooth);\n      }).observe(el, {\n        childList: true,\n        subtree: true\n      });\n    },\n    inserted: function inserted(el, binding) {\n      var config = binding.value || {};\n      scrollToBottom(el, config.notSmoothOnInit ? false : config.smooth);\n    }\n  };\n\n  /**\n  * @name VueJS vChatScroll (vue-chat-scroll)\n  * @description Monitors an element and scrolls to the bottom if a new child is added\n  * @author Theodore Messinezis <theo@theomessin.com>\n  * @file vue-chat-scroll plugin definition\n  */\n  var VueChatScroll = {\n    install: function install(Vue, options) {\n      Vue.directive('chat-scroll', vChatScroll);\n    }\n  };\n  if (typeof window !== 'undefined' && window.Vue) {\n    window.Vue.use(VueChatScroll);\n  }\n  return VueChatScroll;\n});","map":{"version":3,"names":["global","factory","exports","module","define","amd","self","scrollToBottom","el","smooth","scroll","top","scrollHeight","behavior","scrollTop","vChatScroll","bind","binding","scrolled","addEventListener","e","clientHeight","dispatchEvent","Event","MutationObserver","config","value","enabled","pause","always","addedNodes","length","removedNodes","scrollonremoved","loadingRemoved","smoothonremoved","observe","childList","subtree","inserted","notSmoothOnInit","VueChatScroll","install","Vue","options","directive","window","use"],"sources":["/home/diary/devhunt/front_DevHunt/node_modules/vue-chat-scroll/dist/vue-chat-scroll.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global['vue-chat-scroll'] = factory());\n}(this, (function () { 'use strict';\n\n  /**\r\n  * @name VueJS vChatScroll (vue-chat-scroll)\r\n  * @description Monitors an element and scrolls to the bottom if a new child is added\r\n  * @author Theodore Messinezis <theo@theomessin.com>\r\n  * @file v-chat-scroll  directive definition\r\n  */\n  var scrollToBottom = function scrollToBottom(el, smooth) {\n    if (typeof el.scroll === \"function\") {\n      el.scroll({\n        top: el.scrollHeight,\n        behavior: smooth ? 'smooth' : 'instant'\n      });\n    } else {\n      el.scrollTop = el.scrollHeight;\n    }\n  };\n\n  var vChatScroll = {\n    bind: function bind(el, binding) {\n      var scrolled = false;\n      el.addEventListener('scroll', function (e) {\n        scrolled = el.scrollTop + el.clientHeight + 1 < el.scrollHeight;\n\n        if (scrolled && el.scrollTop === 0) {\n          el.dispatchEvent(new Event(\"v-chat-scroll-top-reached\"));\n        }\n      });\n      new MutationObserver(function (e) {\n        var config = binding.value || {};\n        if (config.enabled === false) return;\n        var pause = config.always === false && scrolled;\n        var addedNodes = e[e.length - 1].addedNodes.length;\n        var removedNodes = e[e.length - 1].removedNodes.length;\n\n        if (config.scrollonremoved) {\n          if (pause || addedNodes != 1 && removedNodes != 1) return;\n        } else {\n          if (pause || addedNodes != 1) return;\n        }\n\n        var smooth = config.smooth;\n        var loadingRemoved = !addedNodes && removedNodes === 1;\n\n        if (loadingRemoved && config.scrollonremoved && 'smoothonremoved' in config) {\n          smooth = config.smoothonremoved;\n        }\n\n        scrollToBottom(el, smooth);\n      }).observe(el, {\n        childList: true,\n        subtree: true\n      });\n    },\n    inserted: function inserted(el, binding) {\n      var config = binding.value || {};\n      scrollToBottom(el, config.notSmoothOnInit ? false : config.smooth);\n    }\n  };\n\n  /**\n  * @name VueJS vChatScroll (vue-chat-scroll)\n  * @description Monitors an element and scrolls to the bottom if a new child is added\n  * @author Theodore Messinezis <theo@theomessin.com>\n  * @file vue-chat-scroll plugin definition\n  */\n  var VueChatScroll = {\n    install: function install(Vue, options) {\n      Vue.directive('chat-scroll', vChatScroll);\n    }\n  };\n\n  if (typeof window !== 'undefined' && window.Vue) {\n    window.Vue.use(VueChatScroll);\n  }\n\n  return VueChatScroll;\n\n})));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}