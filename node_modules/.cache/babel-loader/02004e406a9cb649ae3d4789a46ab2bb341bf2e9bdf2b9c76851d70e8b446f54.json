{"ast":null,"code":"import sary from '@/assets/images/avatar.png';\nimport { backServer } from '@/config/axiosConfig';\nexport default {\n  data() {\n    return {\n      user: {},\n      avatar: sary,\n      isValid: {\n        username: false,\n        email: false,\n        password: false,\n        confirmPass: false,\n        file: false\n      },\n      isDisable: true,\n      sign: this.$route.path,\n      errorMsg: '',\n      parcours: '',\n      niveau: ''\n    };\n  },\n  methods: {\n    inputHandler(e) {\n      switch (e.target.id) {\n        case 'name':\n          e.target.value.length > 0 ? this.isValid['name'] = true : this.isValid['name'] = false;\n          break;\n        case 'first_name':\n          e.target.value.length > 0 ? this.isValid['first_name'] = true : this.isValid['first_name'] = false;\n          break;\n        case 'niveau':\n          e.target.value.length > 0 ? this.isValid['niveau'] = true : this.isValid['niveau'] = false;\n          break;\n        case 'parcours':\n          e.target.value.length > 0 ? this.isValid['parcours'] = true : this.isValid['parcours'] = false;\n          break;\n        case 'contact':\n          e.target.value.length > 0 ? this.isValid['contact'] = true : this.isValid['contact'] = false;\n          break;\n        case 'email':\n          /^[a-z0-9._-]+@[a-z0-9._-]+\\.[a-z]{2,6}$/.test(e.target.value) ? this.isValid['email'] = true : this.isValid['email'] = false;\n          break;\n        case 'password':\n          e.target.value.length >= 6 ? this.isValid['password'] = true : this.isValid['password'] = false;\n          break;\n        case 'confirmPassword':\n          e.target.value.length >= 6 && e.target.value == this.user['password'] ? this.isValid['confirmPass'] = true : this.isValid['confirmPass'] = false;\n          break;\n      }\n      if (this.isValid['username'] && this.isValid['email'] && this.isValid['password'] && this.isValid['confirmPass']) {\n        this.isDisable = false;\n      } else {\n        this.isDisable = true;\n      }\n    },\n    async fileHandler(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      this.user['image'] = files[0];\n      this.createImg(files[0]);\n      try {\n        const response = await backServer.post('/api/updloads', this.user.image);\n        this.user['image'] = response.image;\n        console.log(response.image);\n      } catch (error) {\n        console.log(error);\n      }\n      console.log(this.user['image']);\n    },\n    createImg(file) {\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.avatar = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    clearForm() {\n      this.errorMsg = '';\n      this.isDisable = true;\n      this.isValid.username = this.isValid.email = this.isValid.password = this.isValid.confirmPass = this.isValid.file = false;\n      this.user = {};\n    },\n    async createUser() {\n      // const formData = new FormData();\n      // formData.append('name', this.user.name)\n      // formData.append('firstname', this.user.first_name)\n      // formData.append('niveau', this.user.niveau)\n      // formData.append('parcours', this.user.parcours)\n      // formData.append('email', this.user.email)\n      // formData.append('contact', this.user.contact)\n      // formData.append('password', this.user.password)\n      // formData.append('confirmPassword', this.user.confirmPassword)\n\n      try {\n        const response = await backServer.post('/api/user/register', this.user);\n        console.log('Succes');\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["sary","backServer","data","user","avatar","isValid","username","email","password","confirmPass","file","isDisable","sign","$route","path","errorMsg","parcours","niveau","methods","inputHandler","e","target","id","value","length","test","fileHandler","files","dataTransfer","createImg","response","post","image","console","log","error","reader","FileReader","onload","result","readAsDataURL","clearForm","createUser"],"sources":["src/components/SignUp.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n      <div class=\"col-lg-3\">\r\n      <div  class=\"avatar-container d-smart-none bg-light\">\r\n          <label for=\"formFileLg\">\r\n            <img :src=\"avatar\" alt=\"Avatar\" class=\"avatar-image\" >\r\n          </label>\r\n        <div class=\"avatar-middle\">\r\n            Photo\r\n        </div>\r\n      </div>\r\n      </div>\r\n      <div class=\"col-lg-8\">\r\n      <div class=\"px-lg-5 px-4\">\r\n        <h2 class=\"mb-4 font-weight-medium\">Create your own account</h2>\r\n        <div class=\"content\">\r\n            <form class=\" sign-up\" @submit.prevent=\"register\">\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-6 col-sm-6 col-xs-6 col-md-6 \">\r\n                <div class=\"form-floating mb-3\">\r\n                    <input type=\"text\" class=\"form-control\" :class=\"isValid['name'] ? 'is-valid' : 'not-valid'\" id=\"name\" placeholder=\"\" @input=\"inputHandler\" required v-model=\"user['name']\" @keyup=\"inputHandler\">\r\n                    <label for=\"username\">Nom</label>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\r\n                  <div class=\"form-floating mb-3\">\r\n                    <input type=\"text\" class=\"form-control\" :class=\"isValid['first_name'] ? 'is-valid' : 'not-valid'\" id=\"first_name\" placeholder=\"\" @input=\"inputHandler\" required v-model=\"user['first_name']\" @keyup=\"inputHandler\">\r\n                    <label for=\"username\">Prenom</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\r\n                  <div class=\"form-floating mb-3\">\r\n                    <select class=\"form-control\" required v-model=\"user['niveau']\" name=\"\" id=\"niveau\" :class=\"isValid['niveau'] ? 'is-valid' : 'not-valid'\" @change=\"inputHandler\">\r\n                      <option value=\"L1\">L1</option>\r\n                      <option value=\"L2\">L2</option>\r\n                      <option value=\"L3\">L3</option>\r\n                      <option value=\"M1\">M1</option>\r\n                      <option value=\"M2\">M2</option>\r\n                    </select>\r\n                    <label for=\"niveau\">Niveau</label>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\r\n                  <div class=\"form-floating mb-3\">\r\n                    <select class=\"form-control\" required v-model=\"user['parcours']\" name=\"\" id=\"parcours\" :class=\"isValid['parcours'] ? 'is-valid' : 'not-valid'\" @change=\"inputHandler\">\r\n                      <option value=\"L1\">GB</option>\r\n                      <option value=\"L2\">SR</option>\r\n                      <option value=\"L3\">IG</option>\r\n                      <option value=\"M1\">GID</option>\r\n                      <option value=\"M2\">OCC</option>\r\n\r\n                    </select>\r\n                    <label for=\"parcours\">Parcours</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-6 col-sm-6 col-xs-6 col-md-6 col-sm-6 col-xs-6 col-md-6\">\r\n                  <div class=\"form-floating mb-3\">\r\n                    <input type=\"email\" class=\"form-control\" :class=\"isValid['email'] ? 'is-valid' : 'not-valid'\" id=\"email\" placeholder=\"\" @input=\"inputHandler\" required v-model=\"user['email']\" @keyup=\"inputHandler\" >\r\n                    <label v-if=\"errorMsg\" for=\"email\" class=\"text-primary text-decoration-underline\" >{{errorMsg}}</label>\r\n                    <label v-else for=\"email\">Email</label>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\r\n                  <div class=\"form-floating mb-3\">\r\n                    <input type=\"text\" class=\"form-control\" :class=\"isValid['contact'] ? 'is-valid' : 'not-valid'\" id=\"contact\" placeholder=\"\" @input=\"inputHandler\" required v-model=\"user['contact']\" @keyup=\"inputHandler\">\r\n                    <label for=\"contact\">Contact</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-floating mb-3\">\r\n                <input type=\"password\" class=\"form-control\" :class=\"isValid['password'] ? 'is-valid' : 'not-valid'\" id=\"password\" placeholder=\"\" @input=\"inputHandler\" required v-model=\"user['password']\" @keyup=\"inputHandler\">\r\n                <label for=\"password\">Password</label>\r\n              </div>\r\n              <div class=\"form-floating mb-3\">\r\n                <input type=\"password\" class=\"form-control\" :class=\"isValid['confirmPass'] ? 'is-valid' : 'not-valid'\" id=\"confirmPassword\" placeholder=\"\" @input=\"inputHandler\" required v-model=\"user['confirmPassword']\" @keyup=\"inputHandler\">\r\n                <label for=\"confirmPassword\">Confirm password</label>\r\n              </div>\r\n              <div class=\"mb-5 d-lg-none\">\r\n                <label for=\"formFileLg\" class=\"form-label\">Photo</label>\r\n                <input class=\"form-control form-control-lg\" id=\"formFileLg\" @change=\"fileHandler\" type=\"file\" >\r\n              </div>\r\n              <div class=\"d-flex align-items-center justify-content-end\">\r\n                <router-link to=\"/Sign/In\"><span class=\"mx-2 mx-sm-3 has-acc\">d√©ja inscrit ?</span></router-link>\r\n                <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isDisable\">Inscription</button>\r\n              </div>\r\n            </form>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\n  import sary from '@/assets/images/avatar.png'\r\n  import { backServer } from '@/config/axiosConfig'\r\n\r\n  export default{\r\n    data() {\r\n      return {\r\n          user:{},\r\n          avatar : sary,\r\n          isValid:{username: false, email: false, password: false, confirmPass: false, file: false},\r\n          isDisable: true,\r\n          sign: this.$route.path,\r\n          errorMsg:'',\r\n          parcours:'',\r\n          niveau:'',\r\n\r\n      }\r\n    },\r\n    methods: {\r\n      inputHandler(e){\r\n        switch (e.target.id) {\r\n          case 'name':\r\n              e.target.value.length >0 ? this.isValid['name'] = true : this.isValid['name'] = false\r\n            break;\r\n          case 'first_name':\r\n              e.target.value.length >0 ? this.isValid['first_name'] = true : this.isValid['first_name'] = false\r\n            break;\r\n          case 'niveau':\r\n              e.target.value.length >0 ? this.isValid['niveau'] = true : this.isValid['niveau'] = false\r\n              break;\r\n          case 'parcours':\r\n              e.target.value.length >0 ? this.isValid['parcours'] = true : this.isValid['parcours'] = false\r\n            break;\r\n          case 'contact':\r\n              e.target.value.length  >0 ? this.isValid['contact'] = true : this.isValid['contact'] = false\r\n              break;\r\n          case 'email':\r\n              /^[a-z0-9._-]+@[a-z0-9._-]+\\.[a-z]{2,6}$/.test(e.target.value) ? this.isValid['email'] = true : this.isValid['email'] = false\r\n            break;\r\n          case 'password':\r\n              e.target.value.length >=6 ? this.isValid['password'] = true : this.isValid['password'] = false\r\n            break;\r\n          case 'confirmPassword':\r\n              (e.target.value.length >=6 && e.target.value == this.user['password']) ? this.isValid['confirmPass'] = true : this.isValid['confirmPass'] = false\r\n            break;\r\n        }\r\n        \r\n        if(this.isValid['username'] && this.isValid['email'] && this.isValid['password'] && this.isValid['confirmPass'])\r\n        {\r\n          this.isDisable = false\r\n        }else{\r\n          this.isDisable = true\r\n        }\r\n        \r\n      },\r\n      async fileHandler(e){\r\n        let files = e.target.files || e.dataTransfer.files\r\n        if(!files.length) return;\r\n        this.user['image'] = files[0]\r\n        this.createImg(files[0])\r\n        try {\r\n          const response = await backServer.post('/api/updloads', this.user.image)\r\n          this.user['image'] = response.image\r\n          console.log(response.image)   \r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n        console.log (this.user['image'])\r\n      },\r\n      createImg(file){\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.avatar = e.target.result\r\n        }\r\n        reader.readAsDataURL(file)\r\n      },\r\n      clearForm(){\r\n        this.errorMsg =''\r\n        this.isDisable = true\r\n        this.isValid.username=this.isValid.email=this.isValid.password=this.isValid.confirmPass=this.isValid.file = false\r\n        this.user = {}\r\n      },\r\n\r\n      async createUser(){\r\n        // const formData = new FormData();\r\n        // formData.append('name', this.user.name)\r\n        // formData.append('firstname', this.user.first_name)\r\n        // formData.append('niveau', this.user.niveau)\r\n        // formData.append('parcours', this.user.parcours)\r\n        // formData.append('email', this.user.email)\r\n        // formData.append('contact', this.user.contact)\r\n        // formData.append('password', this.user.password)\r\n        // formData.append('confirmPassword', this.user.confirmPassword)\r\n\r\n        try {\r\n          const response = await backServer.post('/api/user/register', this.user)\r\n          console.log('Succes')\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n      \r\n    }\r\n  }\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}